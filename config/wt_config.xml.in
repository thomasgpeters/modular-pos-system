<<<<<<< HEAD
<?xml version="1.0" encoding="utf-8"?>
<!--
  Restaurant POS System - Wt Framework Configuration
  Theme-aware configuration with Bootstrap integration
-->
=======
<!-- ============================================================================
     Wt Configuration Template for Restaurant POS System
     File: config/wt_config.xml.in
     ============================================================================ -->

>>>>>>> origin/claude/evaluate-pos-system-01
<server>
    <!-- Application Settings -->
    <application-settings location="*">
        <session-timeout>3600</session-timeout>
        <session-id-length>128</session-id-length>
        <session-cookie-name>wtSessionId</session-cookie-name>
        <session-id-prefix>pos</session-id-prefix>
        <reload-is-new-session>true</reload-is-new-session>
        <use-slide-effects>true</use-slide-effects>
        <debug>false</debug>
<<<<<<< HEAD
        <send-xhtml-mime-type>false</send-xhtml-mime-type>
        <strict-event-serialization>false</strict-event-serialization>
        <web-sockets>false</web-sockets>
        <redirect-message>Load basic HTML</redirect-message>
        <behind-reverse-proxy>false</behind-reverse-proxy>
        
        <!-- Progressive Enhancement -->
        <progressive-bootstrap>false</progressive-bootstrap>
        <ajax-puzzle>false</ajax-puzzle>
        
        <!-- Security -->
        <plain-ajax-sessions-ratio-limit>1</plain-ajax-sessions-ratio-limit>
        <ajax-puzzle-timeout>5000</ajax-puzzle-timeout>
        
        <!-- Performance -->
        <num-threads>10</num-threads>
        <max-memory-request-size>131072</max-memory-request-size>
        <isapiPath></isapiPath>

        <xhtml>false</xhtml>
        <xml-declaration>false</xml-declaration>
        
        <!-- Theme and Bootstrap Configuration -->
        <properties>
            <!-- Theme Framework Properties -->
            <property name="theme-base-path">@WT_DOCROOT@/assets/css</property>
            <property name="theme-default">restaurant-theme</property>
            <property name="theme-framework-enabled">true</property>
            
            <!-- Bootstrap Integration -->
            <property name="bootstrap-enabled">true</property>
            <property name="bootstrap-version">5.3</property>
            <property name="bootstrap-theme">light</property>
            
            <!-- CSS Loading Strategy -->
            <property name="css-loading-strategy">dynamic</property>
            <property name="css-cache-duration">3600</property>
            
            <!-- POS Application Properties -->
            <property name="pos-mode-default">cashier</property>
            <property name="kitchen-display-enabled">true</property>
            <property name="order-notifications-enabled">true</property>
            
            <!-- UI Responsiveness -->
            <property name="responsive-design">true</property>
            <property name="mobile-optimized">true</property>
            <property name="touch-interface">true</property>
        </properties>
    </application-settings>

    <!-- Static Resources Configuration -->
    <static-resources>
        <!-- CSS Assets with Theme Support -->
        <static-resource>
            <url>/assets/css</url>
            <path>@WT_DOCROOT@/assets/css</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- Framework CSS -->
        <static-resource>
            <url>/css/framework</url>
            <path>@WT_DOCROOT@/assets/css</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- Theme CSS -->
        <static-resource>
            <url>/css/themes</url>
            <path>@WT_DOCROOT@/assets/css/themes</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- Component CSS -->
        <static-resource>
            <url>/css/components</url>
            <path>@WT_DOCROOT@/assets/css/components</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- Bootstrap Assets -->
        <static-resource>
            <url>/css/bootstrap</url>
            <path>@WT_DOCROOT@/assets/css/bootstrap</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- JavaScript Assets -->
        <static-resource>
            <url>/js</url>
            <path>@WT_DOCROOT@/assets/js</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- Images and Icons -->
        <static-resource>
            <url>/images</url>
            <path>@WT_DOCROOT@/assets/images</path>
            <expires>86400</expires>
        </static-resource>
        
        <!-- Fonts -->
        <static-resource>
            <url>/fonts</url>
            <path>@WT_DOCROOT@/assets/fonts</path>
            <expires>86400</expires>
        </static-resource>
    </static-resources>

    <!-- Logging Configuration -->
    <log-config>
        <log-level>info</log-level>
        <log-file>logs/restaurant_pos.log</log-file>
        <log-rotation>
            <max-size>10MB</max-size>
            <max-files>5</max-files>
        </log-rotation>
    </log-config>

    <!-- Security Headers for Modern Web Standards -->
    <http-headers>
        <header name="X-Content-Type-Options">nosniff</header>
        <header name="X-Frame-Options">DENY</header>
        <header name="X-XSS-Protection">1; mode=block</header>
        <header name="Referrer-Policy">strict-origin-when-cross-origin</header>
        <!-- CSP allowing Bootstrap and theme assets -->
        <header name="Content-Security-Policy">default-src 'self'; style-src 'self' 'unsafe-inline' cdn.jsdelivr.net; font-src 'self' fonts.gstatic.com; script-src 'self' 'unsafe-inline';</header>
    </http-headers>

    <!-- Error Pages -->
    <error-pages>
        <error-page>
            <error-code>404</error-code>
            <location>/error/404.html</location>
        </error-page>
        <error-page>
            <error-code>500</error-code>
            <location>/error/500.html</location>
        </error-page>
    </error-pages>

    <!-- Compression for Better Performance -->
    <compression>
        <gzip>true</gzip>
        <gzip-level>6</gzip-level>
        <compression-threshold>1024</compression-threshold>
    </compression>
=======

        <!-- Session and request settings -->
        <max-request-size>128</max-request-size>
        <session-timeout>60</session-timeout>
        <idle-timeout>30</idle-timeout>
        <max-sessions>100</max-sessions>
        <session-id-length>16</session-id-length>

        <!-- Application settings -->
        <server-name>Restaurant POS System</server-name>
        <favicon>favicon.ico</favicon>

        <!-- Security settings -->
        <behind-reverse-proxy>false</behind-reverse-proxy>
        <redirect-message>Load in progress</redirect-message>

        <!-- Resource settings -->
        <split-script>false</split-script>
        <send-xhtml-mime-type>false</send-xhtml-mime-type>

        <!-- Ajax/WebSocket settings -->
        <ajax-puzzle>true</ajax-puzzle>
        <session-id-cookie>false</session-id-cookie>

        <!-- Bootstrap and theming -->
        <theme>bootstrap5</theme>
        <loading-indication>WtLoadingIndicator</loading-indication>

        <!-- Enable progressive bootstrap for faster loading -->
        <progressive-bootstrap>true</progressive-bootstrap>

        <!-- Enable AJAX by default -->
        <ajax-intrapage-navigation>true</ajax-intrapage-navigation>

        <!-- Theme System Configuration -->
        <properties>
            <!-- Theme CSS paths -->
            <property name="theme-css-path">assets/css</property>
            <property name="theme-resources-path">assets</property>
            <property name="theme-internal-path">/assets</property>

            <!-- Default theme settings -->
            <property name="default-theme">base</property>
            <property name="enable-theme-switching">true</property>
            <property name="enable-theme-persistence">true</property>

            <!-- Theme performance settings -->
            <property name="preload-themes">false</property>
            <property name="cache-css">true</property>
        </properties>

        <!-- Static Resources Configuration -->
        <static-resources>
            <!-- Serve CSS and assets from the build directory structure -->
            <resource-mapping>
                <pattern>/assets/css/(.*)$</pattern>
                <path>${docroot}/assets/css/$1</path>
            </resource-mapping>

            <!-- Serve theme resources -->
            <resource-mapping>
                <pattern>/themes/(.*)$</pattern>
                <path>${docroot}/assets/css/themes/$1</path>
            </resource-mapping>

            <!-- Serve component CSS -->
            <resource-mapping>
                <pattern>/components/(.*)$</pattern>
                <path>${docroot}/assets/css/components/$1</path>
            </resource-mapping>

            <!-- Generic static files -->
            <resource-mapping>
                <pattern>/static/(.*)$</pattern>
                <path>${docroot}/$1</path>
            </resource-mapping>
        </static-resources>

        <!-- Security Settings -->
        <security>
            <!-- Enable CSRF protection -->
            <csrf-protection>true</csrf-protection>

            <!-- Content Security Policy -->
            <content-security-policy>
                default-src 'self';
                style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net;
                font-src 'self' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net;
                script-src 'self' 'unsafe-inline' 'unsafe-eval';
                img-src 'self' data: https:;
                connect-src 'self';
            </content-security-policy>
        </security>

    </application-settings>

    <!-- HTTP Server Configuration -->
    <http-server>
        <!-- Listen on all interfaces -->
        <bind>0.0.0.0</bind>
        <port>8080</port>

        <!-- Document root pointing to build directory -->
        <docroot>@CMAKE_BINARY_DIR@</docroot>

        <!-- Enable compression for CSS files -->
        <compression>
            <gzip>true</gzip>
            <types>text/css,application/javascript,text/html,application/json</types>
        </compression>

        <!-- Cache settings for static resources -->
        <static-cache>
            <max-age>3600</max-age>
        </static-cache>

        <!-- MIME type mappings -->
        <mime-types>
            <mime-type extension=".css" type="text/css" />
            <mime-type extension=".js" type="application/javascript" />
            <mime-type extension=".json" type="application/json" />
            <mime-type extension=".svg" type="image/svg+xml" />
            <mime-type extension=".woff" type="font/woff" />
            <mime-type extension=".woff2" type="font/woff2" />
        </mime-types>
    </http-server>
>>>>>>> origin/claude/evaluate-pos-system-01
</server>
